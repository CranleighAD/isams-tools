#!/usr/bin/env python3
# run this file from crontab, to run weekdays at 8am:
# 0 8 * * 1-5 /usr/bin/python3 /path/to/isams-tools/bin/isams_tools register_reminder 1 >/dev/null 2>&1 

import sys
import os

sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
# noinspection PyPep8
from isams_tools import dispatch  # this must stay after the above line to work in CLI

if sys.argv[1] == "register_reminder":
    if int(sys.argv[2]) in range(1, 4):
        dispatch('register_reminder', stage=int(sys.argv[2]))
    else:
        print("Incorrect stage given", file=sys.stderr)
elif sys.argv[1] == "parents_evening":
    dispatch('parents_evening')
else:
    print("Incorrect module or parameters given", file=sys.stderr)
