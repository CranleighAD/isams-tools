#!/usr/bin/env python3
# run this file from crontab, to run weekdays at 8am:
# 0 8 * * 1-5 /usr/bin/python3 /path/to/isams-tools/bin/isams_tools > /var/log/isams_tools.log
from register_reminder import register_reminder
import sys
import os
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

# check we've got a settings gile
try:
    from settings import *
except ImportError:
    sys.stderr.write('You have not renamed settings_example.py to settings.py\n')
    sys.exit(1)

if DEBUG:
    print('DEBUG: Argument List:', str(sys.argv))

if sys.argv[1] == "register_reminder":
    if int(sys.argv[2]) in range(1, 4):
        register_reminder.run(int(sys.argv[2]))
    else:
        print("Incorrect stage given", file=sys.stderr)
else:
    print("Incorrect module given", file=sys.stderr)
